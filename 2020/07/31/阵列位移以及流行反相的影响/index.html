<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>阵列位移以及流行反相的影响 | LA.SPACE</title>
  <meta name="author" content="Ao Liu">
  
  <meta name="description" content="table {
margin: auto;
}


阵列位移以及流行反相的影响阵列位移的影响
会产生这个问题，是因为在邱爽师兄在给我导出单元方向图进行赋形时，其仿真的阵列的相位中心和我们满阵的相位中心有一个偏移. 由此,这个偏移是否会导致单元方向图存在误差？是否需要补偿？

对此，进行了分析和讨论.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="阵列位移以及流行反相的影响"/>
  <meta property="og:site_name" content="LA.SPACE"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/atom.xml" title="LA.SPACE" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

<meta name="generator" content="Hexo 4.2.1"></head>

<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">LA.SPACE</a><span class="split"></span><span class="title">阵列位移以及流行反相的影响</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2020-07-31</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  

  
	<div class="col-md-12">
	  

	  <!-- content -->
	  <style>
table {
margin: auto;
}
</style>

<h2 id="阵列位移以及流行反相的影响"><a href="#阵列位移以及流行反相的影响" class="headerlink" title="阵列位移以及流行反相的影响"></a><font size=6>阵列位移以及流行反相的影响</font></h2><h3 id="阵列位移的影响"><a href="#阵列位移的影响" class="headerlink" title="阵列位移的影响"></a><font size=5>阵列位移的影响</font></h3><blockquote>
<p>会产生这个问题，是因为在邱爽师兄在给我导出单元方向图进行赋形时，其仿真的阵列的相位中心和我们满阵的相位中心有一个偏移. 由此,这个偏移是否会导致单元方向图存在误差？是否需要补偿？</p>
</blockquote>
<p>对此，进行了分析和讨论.</p>
<p>假设共有$N$个阵元，旋转角和离轴角分别取1度为间隔，即N_theta=91, N_phi=361.则阵列流行可以写为</p>
<script type="math/tex; mode=display">
 A=\begin{bmatrix}
   e^{j\frac{2\pi}{\lambda}(u_1 \varDelta x_1+v_1 \varDelta y_1)} & ... & e^{j\frac{2\pi}{\lambda}(u_{Ntheta \times N_{phi}} \varDelta x+v_{Ntheta \times N_{phi}} \varDelta y)}\\
    \vdots & \ddots & \vdots \\
   e^{j\frac{2\pi}{\lambda}(u_1 \varDelta x_N+v_1 \varDelta y_N)} & ... & e^{j\frac{2\pi}{\lambda}(u_{Ntheta \times N_phi} \varDelta x_N+v_{Ntheta \times N_{phi}} \varDelta y_N)}
  \end{bmatrix} \tag{1}</script><p>易知，该矩阵为一个$N \times (N_{theta} \times N_{phi})$的矩阵. $\varDelta x 和\varDelta y$为相应阵元相对于相位中心的位移.</p>
<p>若所有阵元整体偏移一定距离，那么矩阵$A$变为，</p>
<script type="math/tex; mode=display">
 A=\begin{bmatrix}
   e^{j\phi_1}e^{j\frac{2\pi}{\lambda}(u_1 \varDelta x_1+v_1 \varDelta y_1)} & ... & e^{j\phi_M}e^{j\frac{2\pi}{\lambda}(u_{Ntheta \times N_{phi}} \varDelta x_1+v_{Ntheta \times N_{phi}} \varDelta y_1)}\\
    \vdots & \ddots & \vdots \\
   e^{j\phi_1}e^{j\frac{2\pi}{\lambda}(u_1 \varDelta x_N+v_1 \varDelta y_N)} & ... & e^{j\phi_M}e^{j\frac{2\pi}{\lambda}(u_{Ntheta \times N_phi} \varDelta x_N+v_{Ntheta \times N_{phi}} \varDelta y_N)}
  \end{bmatrix} \tag{2}</script><p>其中，令$M=N_{theta} \times N_{phi}$，即每个阵元在相同的方向上，其因为阵列整体偏移引起的相差是一致的(因为与$\varDelta x 和 \varDelta y$的变化以及$u、v$有关，而每个阵元的位移无论对哪个方向来说都是一致的). 而在不同的方向上是不同的(因为$u、v$不同).</p>
<p>那么在波束形成时，可以表示为</p>
<script type="math/tex; mode=display">
 B=\begin{bmatrix}
   e^{\phi_1}(w_1e^{j\frac{2\pi}{\lambda}(u_1 \varDelta x_1+v_1 \varDelta y_1)}+...+w_Ne^{j\frac{2\pi}{\lambda}(u_1 \varDelta x_N+v_1 \varDelta y_N)}） ... & e^{\phi_M}(w_1e^{j\frac{2\pi}{\lambda}(u_M \varDelta x_1+v_M \varDelta y_1)}+...+w_Ne^{j\frac{2\pi}{\lambda}(u_M \varDelta x_N+v_M \varDelta y_N)}）
  \end{bmatrix} \tag{3}</script><p>可以看到每个角度上波束方向图都乘上了相应的相位，但相位上的变化，在取模之后，其幅值或者说功率方向图的大小和没有位移相比，并不会改变. 而且我们一般只看方向图的幅度方向图或者功率方向图，因此，<font color=#DC143C>阵列的偏移不会对方向图(幅值)产生影响.</font></p>
<h3 id="阵列流行反相的影响"><a href="#阵列流行反相的影响" class="headerlink" title="阵列流行反相的影响"></a><font size=5>阵列流行反相的影响</font></h3><p>这个问题的产生是因为，截至目前还没有搞清楚到底在仿真中我们在设定流行的时候是要$e^{j\frac{2\pi}{\lambda}(…)}$还是$e^{-j\frac{2\pi}{\lambda}(…)}$的形式.</p>
<p>一般来说，我们讨论阵列流行时，会用以下的坐标系和角度定义，</p>
<div align=center><img src ="https://s1.ax1x.com/2020/08/01/a3JhwR.jpg" width = "300" height = "300"/></div>

<div align='center' ><font size=2> Figure.2 坐标系及定义</font></div>

<p>假设实际的流行是正的，而我们用的流行是负的得到相应的权重，那么，这样的一组权馈到阵面，在空间中某一个指向$(\theta_1,\phi_1)$的波束输出可以表示为.</p>
<script type="math/tex; mode=display">
 B=\begin{bmatrix}
   w_1&...&w_N 
  \end{bmatrix}
  \begin{bmatrix}
   e^{j\frac{2\pi}{\lambda}(u_1 \varDelta x_1+v_1 \varDelta y_1)} \\
    \vdots \\
   e^{j\frac{2\pi}{\lambda}(u_1 \varDelta x_N+v_1 \varDelta y_N)} 
  \end{bmatrix} \tag{4}</script><p>可以将其转换为</p>
<script type="math/tex; mode=display">
 B=\begin{bmatrix}
   w_1&...&w_N 
  \end{bmatrix}
  \begin{bmatrix}
   e^{-j\frac{2\pi}{\lambda}(-\sin \theta_1 \cos \phi_1 \varDelta x_1-\sin \theta_1 \sin \phi_1 \varDelta y_1)} \\
    \vdots \\
   e^{-j\frac{2\pi}{\lambda}(-\sin \theta_1 \cos \phi_1 \varDelta x_N-\sin \theta_1 \sin \phi_1 \varDelta y_N)} 
  \end{bmatrix} \tag{5}</script><script type="math/tex; mode=display">\Downarrow</script><script type="math/tex; mode=display">
 B=\begin{bmatrix}
   w_1&...&w_N 
  \end{bmatrix}
  \begin{bmatrix}
   e^{-j\frac{2\pi}{\lambda}(\sin \theta_1 \cos (\phi_1 \pm \pi) \varDelta x_1+\sin \theta_1 \sin (\phi_1 \pm \pi)  \varDelta y_1)} \\
    \vdots \\
   e^{-j\frac{2\pi}{\lambda}(\sin \theta_1 \cos (\phi_1 \pm \pi) \varDelta x_{N}+\sin \theta_{1} \sin (\phi_{1} \pm \pi) \varDelta y_{N})} 
  \end{bmatrix} \tag{6}</script><p>即用负流行算出的权重，再用到正的流行上，其输出等同于负流行波束方向图在这一点的旋转角旋转180度之后的结果.即方向图整个旋转180度.<br>再详细一点说就是，对正流行在$(\theta_{1},\phi_{1})$的输出，等同于负流行在$(\theta_{1},\phi_{1}\pm \pi)$的输出<br>这里，角度的定义我们认为是固定的，变化的是等价的输出效果.</p>
<blockquote>
<p>景博提醒我，如果不考虑单元方向图，只需将权值共轭即可，<font color=#DC143C>存疑，需要再讨论.</font>.</p>
</blockquote>
<p>如果考虑了单元方向图，其用负流行及相应算出的权重的输出为</p>
<script type="math/tex; mode=display">
 B=\begin{bmatrix}
   w_1&...&w_N 
  \end{bmatrix}
  \begin{bmatrix}
   a_1e^{j\Phi_1}e^{-j\frac{2\pi}{\lambda}(\sin \theta_1 \cos \phi_1  \varDelta x_1+\sin \theta_1 \sin \phi_1 \varDelta y_1)} \\
    \vdots \\
   a_Ne^{j\Phi_N}e^{-j\frac{2\pi}{\lambda}(\sin \theta_1 \cos \phi_1 \varDelta x_N+\sin \theta_1 \sin \phi_1 \varDelta y_N)} 
  \end{bmatrix} \tag{7}</script><p>而将这个权重应用的实际的带单元方向图的正流行上结果为</p>
<script type="math/tex; mode=display">\Downarrow</script><script type="math/tex; mode=display">
 B=\begin{bmatrix}
   w_1&...&w_N 
  \end{bmatrix}
  \begin{bmatrix}
   a_1e^{j\Phi_1}e^{-j\frac{2\pi}{\lambda}(\sin \theta_1 \cos (\phi_1 \pm \pi)  \varDelta x_1+\sin \theta_1 \sin (\phi_1 \pm \pi) \varDelta y_1)} \\
    \vdots \\
   a_Ne^{j\Phi_N}e^{-j\frac{2\pi}{\lambda}(\sin \theta_1 \cos (\phi_1 \pm \pi) \varDelta x_N+\sin \theta_1 \sin (\phi_1 \pm \pi)\varDelta y_{N})} 
  \end{bmatrix} \tag{8}</script><p>不难看出，若实际的流行为正，就导致用负流行乘上HFSS在正流行下导出的单元方向图优化出来的权重实际上是乘在了$\phi \pm \pi$的方向上. 因此，在考虑单元方向图的情况下，仿真时就要用和实际对应的流行.</p>
<p>由于不是很确定，所以跑了以下仿真，以下是同样一组权重(是在<font color=#DC143C>正流行且考虑单元的情况下</font>仿真的)，在只改变流行正负的情况下的输出，可以看到是有差异的，说明在考虑单元时要匹配正负方向图，</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="https://s1.ax1x.com/2020/08/01/a8JaDJ.png" width = "300" height = "300" alt="a"></td>
<td style="text-align:center"><img src="https://s1.ax1x.com/2020/08/01/a8JUu4.png" width = "300" height = "300"></td>
</tr>
<tr>
<td style="text-align:center">$(a)$</td>
<td style="text-align:center">$(b)$</td>
</tr>
</tbody>
</table>
</div>
<div align='center' ><font size=2> Figure.2 (a)使用正流行和单元方向图仿真得到的权值和正流行及单元方向图波束形成后得到的方向图. (b)仅将流行置负后的方向图结果</font></div>

<p>虽然影响不大(可能因为此处是只用了一个阵中单元)，但还是能看到结果存在差异.即使是先用负流行进行优化，应该也是一个意思，仍会有误差.</p>
	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
			
		
	
		
			
			
		
	
		
	
		
	
		
	
	
	
		<li class="prev"><a href="/2020/08/01/%E5%8D%95%E5%85%83%E6%96%B9%E5%90%91%E5%9B%BE%E5%B8%A6%E6%B5%81%E8%A1%8C%E7%9A%84%E5%BD%B1%E5%93%8D/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next disabled"><a>next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2020 Ao Liu
  
      with help from <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-wixo/" target="_blank" rel="noopener">Wixo</a>.    
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>
